!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5f0f91b0-18dc-4a69-a737-987a5a586c49",e._sentryDebugIdIdentifier="sentry-dbid-5f0f91b0-18dc-4a69-a737-987a5a586c49")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5175,8207,52],{10785:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="ellipsis",s=["ellipsis-h"],i="f141",n="M432 256a48 48 0 1 1 -96 0 48 48 0 1 1 96 0zm-160 0a48 48 0 1 1 -96 0 48 48 0 1 1 96 0zM64 304a48 48 0 1 1 0-96 48 48 0 1 1 0 96z";t.definition={prefix:"far",iconName:a,icon:[448,512,s,i,n]},t.faEllipsis=t.definition,t.prefix="far",t.iconName=a,t.width=448,t.height=512,t.ligatures=s,t.unicode=i,t.svgPathData=n,t.aliases=s},93181:function(e,t){"use strict";t.DF={prefix:"far",iconName:"line-columns",icon:[512,512,[],"f870","M24 40H200c13.3 0 24 10.7 24 24s-10.7 24-24 24H24C10.7 88 0 77.3 0 64S10.7 40 24 40zm0 128H200c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24s10.7-24 24-24zM0 320c0-13.3 10.7-24 24-24H200c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24zM24 424H200c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24s10.7-24 24-24zM288 192c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H312c-13.3 0-24-10.7-24-24zM312 40H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H312c-13.3 0-24-10.7-24-24s10.7-24 24-24zM288 320c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H312c-13.3 0-24-10.7-24-24zm24 104H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H312c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},t.Jm=t.DF},22496:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/library",function(){return a(11704)}])},59021:function(e,t,a){"use strict";a.d(t,{W:function(){return r}});var s=a(97458),i=a(820),n=a(52983),l=a(11556),o=a(89782);let r=n.memo(e=>{let{icon:t,count:a,textVariant:n="tiny",textColor:r="light",className:c}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-x-xs",children:[(0,s.jsx)(l.Z,{variant:n,color:r,className:c,children:(0,s.jsx)(i.G,{size:"sm",icon:t})}),(0,s.jsx)(l.Z,{variant:n,color:r,className:c,children:(0,o.uf)(a)})]})},(e,t)=>e.count===t.count&&e.icon===t.icon&&e.className===t.className)},22381:function(e,t,a){"use strict";var s=a(97458),i=a(22696),n=a(47532),l=a(52983),o=a(31737),r=a(37464),c=a(50882),d=a(46563),u=a(95901),m=a(38474),h=a(11556),x=a(25929),g=a(78398);t.Z=e=>{var t,a,v;let{showAvatar:f,showCreatorLabel:p,showEdit:j,isCurrentUser:y=!0,textColor:b,textVariant:N="smallBold",username:k,image:P,anon:w,avatarSize:C="small"}=e,{data:Z,update:S}=(0,n.useSession)(),[_,M]=l.useState(!1),[T,A]=l.useState(null!=k?k:y?null==Z?void 0:null===(t=Z.user)||void 0===t?void 0:t.username:"Anonymous"),[I,z]=l.useState(),{isMobileUserAgent:E}=(0,d.d)(),L=(0,o.useTranslations)("settings.account"),D=async()=>fetch("/api/user",{method:"PUT",body:JSON.stringify({username:T})}),{mutate:H,isPending:O}=(0,i.D)({mutationFn:D,onSuccess:e=>{e.json().then(t=>{if(200!==e.status){z(t.message);return}M(!1),z(void 0),S()})}});return(0,l.useEffect)(()=>{var e;A(null!=k?k:y?null==Z?void 0:null===(e=Z.user)||void 0===e?void 0:e.username:"Anonymous")},[k,y,null==Z?void 0:null===(a=Z.user)||void 0===a?void 0:a.username]),(0,s.jsxs)("div",{className:"relative flex items-center gap-x-xs",children:[f&&(0,s.jsx)(r.Z,{size:C,anon:w,user:null!=P?P:y&&null!==(v=null==Z?void 0:Z.user.image)&&void 0!==v?v:void 0}),_?(0,s.jsx)("div",{children:(0,s.jsx)(u.ZP,{isMobileUserAgent:E,value:T,disabled:O,errorText:null!=I?I:""===T?"Username cannot be empty":"",onChange:e=>{A(e.target.value)},className:"md:min-w-[300px]",inlineEditBlock:Z&&(0,s.jsxs)("div",{className:"ml-sm flex items-center gap-x-xs",children:[(0,s.jsx)(m.Z,{text:L("save"),variant:T===Z.user.username||""===T||O?"common":"primary",size:"small",disabled:T===Z.user.username||""===T||O,onClick:()=>H()}),(0,s.jsx)(m.Z,{text:L("cancel"),size:"small",disabled:O,onClick:()=>{A(Z.user.username),M(!1)}})]})})}):(0,s.jsx)(h.Z,{variant:N,color:b,className:"line-clamp-1 break-all",children:w?"Anonymous":T}),p&&(0,s.jsx)(x.ZP,{variant:"offset",className:"rounded-full px-sm py-xs",children:(0,s.jsx)(h.Z,{variant:"tiny",color:"light",children:"Author"})}),j&&!_&&(0,s.jsx)(g.Z,{pill:!0,size:"small",icon:c.faPenToSquare,onClick:()=>M(!0)})]})}},5299:function(e,t,a){"use strict";a.d(t,{l:function(){return l}});var s=a(30574),i=a(61061),n=a(41275);let l=()=>{var e;let t=(0,i.nO)(),a=async e=>{let{pageParam:a}=e;(!a||a<1)&&(a=1);let s=(a-1)*50;return await (null==t?void 0:t.emitWithAck("list_user_collections",{limit:50,offset:s}))},{data:l}=(0,s.N)({enabled:!!t,queryKey:n.Xt,refetchOnReconnect:"always",initialPageParam:1,queryFn:e=>{let{pageParam:t}=e;return a({pageParam:t})},getNextPageParam:(e,t)=>{var a;return e&&(null===(a=e[0])||void 0===a?void 0:a.has_next_page)?t.length+1:void 0}});return{collections:null!==(e=null==l?void 0:l.pages[l.pages.length-1])&&void 0!==e?e:[]}}},8245:function(e,t,a){"use strict";a.d(t,{k:function(){return i}});var s=a(31737);let i=()=>{let e=(0,s.useTranslations)("shared");return{yearAgo:e("yearAgo"),yearsAgo:e("yearsAgo"),monthAgo:e("monthAgo"),monthsAgo:e("monthsAgo"),dayAgo:e("dayAgo"),daysAgo:e("daysAgo"),hourAgo:e("hourAgo"),hoursAgo:e("hoursAgo"),minutesAgo:e("minutesAgo"),minuteAgo:e("minuteAgo"),justNow:e("justNow"),justNowShort:e("justNowShort")}}},11704:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return ef},default:function(){return ep}});var s=a(97458),i=a(52983),n=a(31737),l=a(820),o=a(47532),r=a(59842),c=a(53541),d=a(24819),u=a.n(d),m=a(37464),h=a(82122),x=a(8245),g=a(1599),v=a(94589),f=a(849),p=a(84981),j=a(25929),y=a(67571),b=a(11556),N=a(96299),k=a(30052),P=a(95714);let w=e=>{let{collection:t,testId:a}=e,{ownerUser:i,contributorUsers:n}=(0,p.gO)(t),o=t.thread_count+t.page_count,r=(0,x.k)(),{locale:c}=(0,h.z)(),d=()=>{var e;return(0,s.jsxs)(j.ZP,{className:"group relative pr-sm pt-sm",variant:"background",children:[(0,s.jsx)(j.ZP,{className:"absolute bottom-sm left-sm right-0 top-0 rounded-xl opacity-50 transition-all duration-200 group-hover:!bg-super",variant:"offsetPlus"}),(0,s.jsx)(j.ZP,{className:"absolute inset-xs rounded-lg ring-2 !ring-background transition-all dark:!ring-backgroundDark",variant:"offset"}),(0,s.jsxs)(j.ZP,{variant:"offset",bgHover:"offsetPlus",className:"relative cursor-pointer rounded-md p-md ring-2 !ring-background dark:!ring-backgroundDark",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center gap-x-sm",children:[t.emoji&&"None"!==t.emoji&&(0,s.jsx)("div",{className:"-mt-xs",children:(0,s.jsx)(v.B,{unified:null!==(e=t.emoji)&&void 0!==e?e:y.$Y,size:"small"})}),(0,s.jsx)(b.Z,{testId:"collection-preview-title",variant:"baseSemi",className:"line-clamp-2",children:t.title})]})}),(0,s.jsxs)("div",{className:"mt-sm flex items-center justify-between gap-x-md",children:[(0,s.jsxs)("div",{className:"flex min-w-0 items-center gap-x-md",children:[t.access===N.uv.PRIVATE_READ&&(0,s.jsx)(b.Z,{variant:"tiny",color:"light",children:(0,s.jsx)(l.G,{icon:f.by})}),(0,s.jsxs)("div",{className:"flex items-center gap-x-xs",children:[(0,s.jsx)(b.Z,{variant:"tiny",color:"light",children:(0,s.jsx)(l.G,{icon:P.i})}),(0,s.jsx)(b.Z,{variant:"tiny",color:"light",children:o>0?o>=99?"99+":o:0})]}),(0,s.jsx)("div",{className:"flex min-w-0 items-center gap-x-xs",children:(0,s.jsx)(b.Z,{variant:"tiny",color:"light",className:"overflow-hidden",children:(0,s.jsx)(k.Z,{timestamp:t.updated_datetime,layoutType:"bottom",translations:r,locale:c})})})]}),(0,s.jsxs)(g.Z,{size:"small",showMore:!1,children:[null!=i&&(0,s.jsx)(m.Z,{size:"small",user:i.image}),n.map(e=>(0,s.jsx)(m.Z,{size:"small",user:e.image},e.image))]})]})]})]})};return t.slug?(0,s.jsx)(u(),{"data-testid":a,href:"/collections/".concat(t.slug),className:"block",children:(0,s.jsx)(d,{})}):(0,s.jsx)(d,{})};var C=a(39912),Z=a(79821),S=a(96049),_=a(10785),M=a(93181),T=a(80937),A=a(33326),I=a(46563),z=a(74062),E=a(95901),L=a(59914),D=a(88732),H=a(68029),O=a(34693),G=a(51865),R=a.n(G);let F=e=>{let{handleOpenCollectionCreateEditModal:t,handleOpenQuickAsk:a,tabType:i,setTabType:l,setDeleteAllModalOpen:o,setSearchTermInput:r,loading:c,searchTermInput:d}=e,u=(0,n.useTranslations)("threads.main"),m=(0,n.useTranslations)("shared"),{isMobileStyle:h,isMobileUserAgent:x}=(0,I.d)(),{allowArticleCreation:g}=(0,S.v)(),v=[{icon:_.faEllipsis,visible:h,items:[{text:u("tooltipDeleteThreads"),icon:A.$,onClick:()=>o(!0)}]},{text:u("tooltipCreateCollectionTitle"),icon:T.faPlus,variant:"primary",visible:h,items:[{text:u("tooltipCreateThread"),icon:M.Jm,onClick:a},{text:u("tooltipCreateCollection"),icon:P.i,onClick:t}]}];return(0,s.jsxs)(j.ZP,{variant:"background",className:R()("sticky top-0 z-[15]",{"w-[100vw]":h}),children:[(0,s.jsx)(z.Z,{title:u("mainTitle"),icon:H.i,center:"lg",isMobileStyle:h,actionList:v,search:(0,s.jsx)(E.ZP,{isMobileUserAgent:x,type:"search",value:d,placeholder:u("searchPlaceholder"),autoFocus:!1,onChange:e=>{r(e.target.value)},isLoading:c})}),(0,s.jsx)(j.ZP,{className:"h-14 border-b md:hidden",children:(0,s.jsx)(L.n,{fillSpace:!0,layout:"center",allowScroll:!0,tabClass:"!px-sm",layoutGroupId:"libary-tabs",actionList:[{icon:P.i,text:m("threads"),show:!0,active:"threads"===i,onClick:()=>{l("threads")}},{icon:O.T,text:m("articles"),active:"articles"===i,show:g,onClick:()=>{l("articles")}},{icon:D.z,text:m("collections"),active:"collections"===i,show:!0,onClick:()=>{l("collections")}}]})})]})};var W=a(60493),U=a(74512),q=a(61061);let B=()=>{let e=(0,q.nO)(),{data:t,isLoading:a}=(0,U.a)({enabled:!!e,queryKey:["fetch_invited_collections"],queryFn:()=>null==e?void 0:e.emitWithAck("fetch_invited_collections",{})});return{isLoading:a,invitedCollections:t}};var $=a(5299),J=a(45233),X=a(54994),Y=a(55814),K=a(95712),Q=a(80973),V=a(42064),ee=a(38213),et=a(33909),ea=a(59530);let es=(e,t)=>{var a;return e&&(null===(a=e[0])||void 0===a?void 0:a.has_next_page)?t.length+1:void 0},ei=()=>{var e,t,a,s,i,n,l;let{searchTerm:o}=(0,ee.p)(),r=(0,ea.Z)("list_ask_articles",X.O_,!!o,es,{search_term:o}),c=null!==(n=null===(t=r.data)||void 0===t?void 0:null===(e=t.pageParams)||void 0===e?void 0:e.length)&&void 0!==n?n:1,d=null!==(l=null===(a=r.data)||void 0===a?void 0:a.pages)&&void 0!==l?l:[],u=d.flat(),m=null===(i=d[d.length-1])||void 0===i?void 0:null===(s=i[0])||void 0===s?void 0:s.has_next_page;return{...r,data:u,paginationInfo:{currentPage:c,hasNextPage:m,hasPreviousPage:c>1,getNextPage:()=>r.fetchNextPage(),getPreviousPage:()=>r.fetchPreviousPage()}}};var en=a(84450);let el=e=>{let{}=e,t=(0,i.useRef)(void 0),a=ei(),{searchTerm:n}=(0,ee.p)(),l=a.data,o=(0,i.useCallback)(()=>{a.paginationInfo.hasNextPage&&!a.isLoading&&a.paginationInfo.getNextPage()},[a]),r=t.current===n&&a.isLoading||"fetching"===a.fetchStatus,c=!a.isLoading&&"idle"===a.fetchStatus;return(0,s.jsx)(en.f,{articles:l,hasNextPage:a.paginationInfo.hasNextPage,showLoadingState:r,showEmptyState:c,fetchNextPage:o})};var eo=a(28492);let er=e=>{let{}=e,t=(0,i.useRef)(void 0),a=(0,X.Qk)(),{searchTerm:n}=(0,ee.p)(),l=a.data,o=(0,i.useCallback)(()=>{a.paginationInfo.hasNextPage&&!a.isLoading&&a.paginationInfo.getNextPage()},[a]),r=t.current===n&&a.isLoading||"fetching"===a.fetchStatus,c=!a.isLoading&&"idle"===a.fetchStatus;return(0,s.jsx)(eo.B,{threads:l,type:eo.W.LIBRARY,hasNextPage:a.paginationInfo.hasNextPage,showLoadingState:r,showEmptyState:c,fetchNextPage:o})};var ec=a(382),ed=a(78398),eu=a(38474),em=a(81773),eh=a(77837),ex=a.n(eh);let eg=e=>{let{title:t,icon:a,onClick:i}=e;return(0,s.jsx)(j.ZP,{variant:"transparent",bgHover:"offset",className:"relative flex flex-1 cursor-pointer items-center justify-center rounded border p-md py-sm",onClick:i,children:(0,s.jsxs)(b.Z,{className:"flex w-full items-center gap-sm",variant:"baseSemi",children:[(0,s.jsx)(l.G,{icon:a}),t,(0,s.jsx)("span",{className:"flex-1"}),(0,s.jsx)("span",{className:"text-super dark:text-superDuper",children:(0,s.jsx)(l.G,{icon:T.faPlus})})]})})};var ev=()=>{let[e,t]=(0,i.useState)(!1),[a,l]=(0,i.useState)("threads"),[d,u]=(0,i.useState)(""),[m,h]=(0,i.useState)(!1),{searchTerm:x,updateUserInput:g}=(0,ee.p)(),{isMobileStyle:v}=(0,I.d)(),{isIncognito:f}=(0,Q.Y)(),p=(0,c.useRouter)(),{data:y}=(0,o.useSession)(),{allowArticleCreation:k}=(0,S.v)(),M=(0,X.Qk)(),{collections:E}=(0,$.l)(),{invitedCollections:H}=B(),{deleteAllThreads:G}=(0,J.l)(),{openModal:R}=(0,V.X)(),{trackEvent:U}=(0,Y.WS)(),q=(0,i.useCallback)(()=>{U("new thread click on threads page",{}),R("quickSearchModal",null)},[U,R]),ea=(0,n.useTranslations)("threads.main"),es=(0,n.useTranslations)("shared"),ei=(0,n.useTranslations)("article"),en=(0,K.lG)(),{acceptCollectionInvite:eo,declineCollectionInvite:eh}=(0,W.a)(),ev=(0,i.useCallback)(()=>{y?R("collectionCreateOrEdit",{frontendContextUUID:void 0,existingCollection:null,searchTerm:x}):R("loginModal",{origin:N.FM.COLLECTIONS})},[R,x,y]),ef=(0,i.useCallback)(()=>{h(!1),G()},[G]),ep=(0,i.useCallback)(ex()((e,t)=>{(""!==e||void 0!==t)&&g({searchTerm:e})},200,{leading:!0,trailing:!0,maxWait:600}),[]);(0,i.useEffect)(()=>{ep(d,x)},[d]),(0,i.useEffect)(()=>{M.isSuccess&&t(!0)},[M.isSuccess]);let ej=[{text:es("threads"),show:!0,active:"threads"===a,onClick:()=>{l("threads")}},{text:es("articles"),active:"articles"===a,show:k,onClick:()=>{l("articles")}}],ey=(0,i.useCallback)(e=>{en?p.push("/page/new"):R("loginModal",{pitchMessage:{title:ei("loginPrompt",{page:"Page"})},origin:N.FM.ARTICLE_NEW}),e.preventDefault()},[p,R,ei,en]),[eb,{height:eN}]=(0,r.Z)();return f?(0,s.jsx)(C.Z,{}):(0,s.jsxs)(Z.VY,{childrenWidth:"large",mobileHeader:!1,header:(0,s.jsx)(F,{searchTermInput:d,setSearchTermInput:u,tabType:a,setTabType:l,handleOpenQuickAsk:q,setDeleteAllModalOpen:h,loading:M.isLoading&&e,handleOpenCollectionCreateEditModal:ev}),children:[(0,s.jsxs)("div",{className:"grid-cols-12 gap-xl md:grid",children:[(0,s.jsxs)("div",{className:"col-span-8 md:mt-lg",children:[(0,s.jsxs)("div",{className:"hidden md:block",children:[k&&(0,s.jsxs)("div",{className:"flex gap-md pb-md",ref:eb,children:[(0,s.jsx)(eg,{title:es("thread"),icon:P.i,onClick:q}),(0,s.jsx)(eg,{title:es("article"),icon:O.T,onClick:ey}),(0,s.jsx)(eg,{title:es("collection"),icon:D.z,onClick:ev})]}),k?(0,s.jsxs)(j.ZP,{className:"flex items-center justify-between border-b",children:[(0,s.jsx)(L.n,{layout:"left",actionList:ej,layoutGroupId:"library-tabs"}),(0,s.jsx)("div",{className:"flex items-center gap-x-sm",children:"threads"===a?(0,s.jsx)(ec.G,{isMobileStyle:v,items:[{icon:A.$,show:!0,text:ea("tooltipDeleteThreads"),onClick:()=>h(!0)}],children:(0,s.jsx)(ed.Z,{size:"small",icon:_.faEllipsis})}):null})]}):(0,s.jsx)(z.Z,{icon:P.i,title:es("threads"),variant:"section",isMobileStyle:v,actionList:[{icon:_.faEllipsis,visible:!0,items:[{text:ea("tooltipDeleteThreads"),icon:A.$,onClick:()=>h(!0)}]},{icon:T.faPlus,onClick:q,visible:!v}]})]}),"threads"===a?(0,s.jsx)(er,{}):null,"articles"===a?(0,s.jsx)(el,{}):null]}),(0,s.jsxs)("div",{className:"col-span-4 md:mt-lg",children:[(0,s.jsx)("div",{className:"hidden md:block",style:k?{marginTop:eN}:void 0,children:(0,s.jsx)(z.Z,{isMobileStyle:v,icon:k?null:D.z,title:es("collections"),variant:"section",testId:"col-header-collection-create",actionList:[{icon:T.faPlus,onClick:ev,visible:!v&&!k,testId:"col-header-collection-create"}]})}),v&&"collections"===a||!v?(0,s.jsxs)("div",{className:"my-md space-y-sm",children:[null==H?void 0:H.map(e=>(0,s.jsx)("div",{children:(0,s.jsx)(et.Z,{collection:e,acceptInvite:()=>{eo({collection:e})},declineInvite:()=>{eh({collection:e})}})},e.uuid)),(null==E?void 0:E.length)===0&&(0,s.jsxs)(j.ZP,{variant:"offset",className:"rounded-md p-md text-center",children:[(0,s.jsx)(b.Z,{color:"light",className:"mb-sm",children:ea("emptyStateMessage")}),(0,s.jsx)(eu.Z,{testId:"col-create-new-collection",size:"small",text:ea("getStarted"),variant:"primary",fullWidth:!0,onClick:ev})]}),(Array.isArray(E)?E:[]).map(e=>(0,s.jsx)(w,{testId:"collection-preview",collection:e},e.uuid))]}):null]})]}),(0,s.jsx)(em.Z,{isOpen:m,onClose:()=>h(!1),message:ea("deleteAllThreadsModalTitle"),actionList:[{text:es("nevermind"),onClick:()=>h(!1)},{text:es("confirm"),variant:"rejected",onClick:ef}]})]})},ef=!0,ep=()=>{let e=(0,K.lG)(),{openModal:t}=(0,V.X)(),[a,l]=(0,i.useState)(!1),o=(0,n.useTranslations)("library");return(0,i.useEffect)(()=>{a||e||(l(!0),t("loginModal",{pitchMessage:{title:o("loginPrompt",{threads:"Threads"})},origin:N.FM.LIBRARY_PAGE}))},[e,t,a,o]),(0,s.jsx)(ev,{})}},74062:function(e,t,a){"use strict";var s=a(97458),i=a(820),n=a(51865),l=a.n(n),o=a(52983),r=a(25929),c=a(11556),d=a(38474),u=a(382),m=a(96299);t.Z=e=>{let{title:t,icon:a,subtitle:n,actionList:h,search:x,variant:g="page",noBorder:v=!1,center:f="md",background:p="background",testId:j,isMobileStyle:y}=e,b=h&&h.length>0&&(0,s.jsx)("div",{className:"gap-x-sm flex",children:null==h?void 0:h.map((e,t)=>{var a,i;return e.visible?e.items&&e.items.length>0?(0,s.jsx)(u.G,{isMobileStyle:y,items:e.items,children:(0,s.jsx)(d.Z,{testId:j,size:m.$u.small,text:e.text,variant:e.variant,icon:e.icon,onClick:e.onClick,debounce:e.debounce})},null!==(a=e.text)&&void 0!==a?a:t):(0,s.jsx)("div",{className:"relative flex h-full items-center",children:(0,s.jsx)(d.Z,{testId:j,size:m.$u.small,text:e.text,variant:e.variant,icon:e.icon,onClick:e.onClick,toolTip:e.tooltip,tooltipLayout:"bottom",disabled:e.disabled,debounce:e.debounce,isLoading:e.isLoading})},null!==(i=e.text)&&void 0!==i?i:t):(0,s.jsx)(o.Fragment,{},t)})}),N=(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"gap-x-sm flex items-center",children:[a&&(0,s.jsx)(c.Z,{variant:"page"===g?"page-title":"section-title",children:(0,s.jsx)(i.G,{fixedWidth:!0,icon:a,size:"sm"})}),(0,s.jsx)(c.Z,{variant:"page"===g?"page-title":"section-title",children:t})]}),n&&(0,s.jsx)(c.Z,{variant:"page"===g?"base":"small",color:"light",className:"mt-sm",children:n})]});return(0,s.jsx)(r.ZP,{variant:p,className:l()({"sticky top-0 z-[5] rounded-t-xl":"page"==g,"border-b":!v}),children:(0,s.jsx)(r.ZP,{className:l()({"pt-md":"page"==g,"px-sm md:px-lg mx-auto max-w-screen-md":"page"==g&&"md"===f,"max-w-threadWidth px-md md:px-lg mx-auto":"page"==g&&"lg"===f}),children:(0,s.jsxs)(r.ZP,{variant:p,className:l()("gap-md flex flex-col md:flex-row md:items-center md:justify-between",{"pb-md":"page"===g,"h-14":!x&&"section"===g}),children:[(0,s.jsxs)("div",{className:"md:hidden",children:[(0,s.jsxs)("div",{className:"gap-sm flex justify-between",children:[N,b]}),x&&(0,s.jsx)("div",{className:"mt-md w-full max-w-md",children:x})]}),(0,s.jsxs)("div",{className:"gap-sm hidden grow items-center justify-between md:flex",children:[N,(0,s.jsxs)("div",{className:"gap-sm flex grow items-center justify-end",children:[b,x&&(0,s.jsx)("div",{className:"max-w-md grow",children:x})]})]})]})})})}},30052:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var s=a(97458),i=a(53415),n=a(820),l=a(51987);a(52983);var o=a(36537),r=a(11556),c=a(51865),d=a.n(c);let u=[{locale:"en-US",translations:{year:"#y",month:"#mo",day:"#d",hour:"#h",minute:"#m"}},{locale:"fr-FR",translations:{year:"# an",month:"# mois",day:"# jour",hour:"# h",minute:"# min."}},{locale:"de-DE",translations:{year:"# J.",month:"# Mt.",day:"# T.",hour:"# Std.",minute:"# Min."}},{locale:"ja-JP",translations:{year:"# 年前",month:"# 月前",day:"# 日前",hour:"# 時間前",minute:"# 数分前"}},{locale:"ko-KR",translations:{year:"#년",month:"#개월",day:"#일",hour:"#시간",minute:"#분"}},{locale:"zh-CN",translations:{year:"#年",month:"#个月",day:"#天",hour:"#小时",minute:"#分钟"}},{locale:"es-ES",translations:{year:"# a\xf1o",month:"# mes",day:"# d\xeda",hour:"# hora",minute:"# min."}},{locale:"hi-IN",translations:{year:"#वर्ष",month:"#माह",day:"#दिन",hour:"#घं॰",minute:"#मि॰"}}],m=(e,t,a,s)=>{var i,n,o,r,c,d,m,h;let x=l.DateTime.local().diff(e,["years","months","days","hours","minutes","seconds"]).toObject(),g=null!==(o=x.years)&&void 0!==o?o:0,v=null!==(r=x.months)&&void 0!==r?r:0,f=null!==(c=x.days)&&void 0!==c?c:0,p=null!==(d=x.hours)&&void 0!==d?d:0,j=null!==(m=x.minutes)&&void 0!==m?m:0,y=null!==(h=null===(i=u.find(e=>e.locale===t))||void 0===i?void 0:i.translations)&&void 0!==h?h:null===(n=u.find(e=>"en-US"===e.locale))||void 0===n?void 0:n.translations,{yearsAgo:b,yearAgo:N,monthAgo:k,monthsAgo:P,daysAgo:w,dayAgo:C,hoursAgo:Z,minutesAgo:S,justNowShort:_,hourAgo:M,minuteAgo:T,justNow:A}=s,I="narrow"===a,z=(e,t)=>y[e].replace("#",String(t));return 1===g?I?"".concat(z("year",1)):"1 ".concat(N):g>=1?I?"".concat(z("year",Math.round(g))):"".concat(Math.round(g)," ").concat(b):1===v?I?"".concat(z("month",1)):"1 ".concat(k):v>=1?I?"".concat(z("month",Math.round(v))):"".concat(Math.round(v)," ").concat(P):1===f?I?"".concat(z("day",1)):"1 ".concat(C):f>=1?I?"".concat(z("day",Math.round(f))):"".concat(Math.round(f)," ").concat(w):1===p?I?"".concat(z("hour",1)):"1 ".concat(M):p>=1?I?"".concat(z("hour",Math.round(p))):"".concat(Math.round(p)," ").concat(Z):1===j?I?"".concat(z("minute",1)):"1 ".concat(T):j>=1?I?"".concat(z("minute",Math.round(j))):"".concat(Math.round(j)," ").concat(S):I?_:A};var h=e=>{let{timestamp:t,layoutType:a="right",textVariant:c="tiny",textColor:u="light",translations:h,textBlockProps:x,locale:g,style:v="long"}=e;if(!t)return null;let f=l.DateTime.fromISO("".concat(t,"Z")),p=m(f,g,v,h),j=f.toLocaleString(l.DateTime.DATETIME_FULL),{className:y,...b}=null!=x?x:{};return p?null!==p&&(0,s.jsx)(o.Z,{tooltipText:j,tooltipLayout:a,asChild:!0,children:(0,s.jsxs)(r.Z,{variant:c,color:u,className:d()("gap-x-xs flex cursor-default items-center",y),...b,children:[(0,s.jsx)("span",{children:(0,s.jsx)(n.G,{size:"sm",icon:i.SZ})}),(0,s.jsx)("span",{className:"truncate",children:p})]})}):null}}},function(e){e.O(0,[1987,5233,4507,3375,2888,9774,179],function(){return e(e.s=22496)}),_N_E=e.O()}]);